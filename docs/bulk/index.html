<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulk Import — Compliance Citations</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <img src="../logo.png" alt="Logo" class="logo">
        <h1>Bulk Import — Compliance Citations</h1>
        <div class="header-buttons">
            <button onclick="window.location.href='../index.html'">Back to Viewer</button>
        </div>
    </header>

    <main>
        <section>
            <h2>1) Load current dataset</h2>
            <p>This reads the live file you serve at ../data/citations/citations.json.</p>
            <button id="load-current">Load Current citations.json</button>
        </section>

        <section>
            <h2>2) Add new data (JSON preferred)</h2>
            <button id="paste-json">Paste JSON</button>
            <button id="upload-json">Upload CSV</button>
            <p>CSV must include headers at least: <code>id,case_name,citation,year,court,jurisdiction,summary</code>. For array fields use pipe <code>|</code> to separate items.</p>
            <input type="file" id="csv-file">
            <button id="parse-csv">Parse CSV</button>
        </section>

        <section>
            <h2>3) Validate</h2>
            <label>
                <input type="checkbox" id="allow-updates"> Allow updates for matching IDs (otherwise duplicates are rejected)
            </label>
            <button id="run-validation">Run Validation</button>
        </section>

        <section>
            <h2>4) Merge & Download</h2>
            <button id="merge-data">Merge into Current (in-memory)</button>
            <button id="download-json" disabled>Download merged citations.json</button>
        </section>

        <p style="font-size: 0.9em; color: gray;">
            No data is written to GitHub from this page. You’ll download a file and commit it yourself.
        </p>
    </main>

    <script src="main.js"></script>
</body>
</html>
