<section class="source">
  <div class="row">
    <input id="file" type="file" accept=".json,.csv,.txt"/>
    <button id="parseBtn" class="btn">Parse & Validate</button>
    <button id="clearBtn" class="btn btn-secondary">Clear</button>
    <label class="chk"><input id="autofill" type="checkbox" checked disabled/> Auto-fill from TXT filename</label>
    <label class="chk"><input id="noBreach" type="checkbox"/> Mark “No breach detected”</label>
  </div>
  <div class="grid">
    <textarea id="paste" placeholder='[{"id":"…","case_name":"…","citation":"[2025] JRC 1",…}]  OR CSV with headers'></textarea>
    <textarea id="mergedJson" aria-label="Merged JSON (preview)">[]</textarea>
  </div>
</section>

<section class="accepted">
  <h3>Accepted <span id="acceptedCount">0</span></h3>
  <ul id="acceptedList"></ul>
</section>

<section class="merge">
  <h3>Merge with Existing Citations</h3>
  <label class="chk"><input id="overwrite" type="checkbox"/> Overwrite existing entries on ID conflict (default: keep existing)</label>
  <div class="row">
    <label>Sort by</label>
    <select id="sortBy">
      <option value="case">Case Name</option>
      <option value="year">Year</option>
    </select>
    <button id="genBtn" class="btn">Generate Merged JSON</button>
    <button id="copyBtn" class="btn btn-secondary">Copy</button>
    <button id="downloadBtn" class="btn btn-secondary">Download</button>
  </div>
  <small id="targetHint"></small>
</section>
